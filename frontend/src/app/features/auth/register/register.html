<div class="register-container">
	<h2>Crea il tuo account</h2>

	<form [formGroup]="registerForm" (ngSubmit)="onRegister()">
		<input type="text" formControlName="nome" placeholder="Nome">
		@if(registerForm.get('nome')?.invalid && registerForm.get('nome')?.touched) {
  			<div class="error">
				Il nome è obbligatorio.
  			</div>
		}
		<input type="text" formControlName="cognome" placeholder="Cognome">
		@if(registerForm.get('cognome')?.invalid && registerForm.get('cognome')?.touched) {
  			<div class="error">
				Il cognome è obbligatorio.
  			</div>
		}
		<input type="email" formControlName="email" placeholder="Email" required>
		@if(registerForm.get('email')?.invalid && registerForm.get('email')?.touched) {
  			<div class="error">
				Email non valida.
  			</div>
		}
		<input type="password" formControlName="password" placeholder="Password" required>
		@if(registerForm.get('password')?.invalid && registerForm.get('password')?.touched) {
  			<div class="error">
				La password deve avere almeno 8 caratteri.
  			</div>
		}
		<input type="password" formControlName="confirmPassword" placeholder="Conferma Password" required>
		@if(registerForm.hasError('mismatch') && registerForm.get('confirmPassword')?.touched) {
  			<div class="error">
				Le password non corrispondono.
  			</div>
		}

		<button type="submit" [disabled]="registerForm.invalid">CREA</button>
		@if(message) {
    		<div class="form-message">{{ message }}</div>
  		}

	</form>
	<div class="login-redirect">
		<p>Hai già un account? <a routerLink="/login">Login</a></p>
	</div>
</div>


