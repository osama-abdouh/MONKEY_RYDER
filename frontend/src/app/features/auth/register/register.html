<div class="register-container">
  <h2>Crea il tuo account</h2>

  <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
    <div class="registration-inputs">
      <div class="name-surname-container">
        <div class="input-container">
          <input type="text" formControlName="first_name" placeholder="Nome" required />
          @if(registerForm.get('first_name')?.invalid && registerForm.get('first_name')?.touched) {
            <div class="form-error">Il nome è obbligatorio.</div>
          }
        </div>
        <div class="input-container">
          <input type="text" formControlName="last_name" placeholder="Cognome" required />
          @if(registerForm.get('last_name')?.invalid && registerForm.get('last_name')?.touched) {
            <div class="form-error">Il cognome è obbligatorio.</div>
          }
        </div>
      </div>
      <div class="input-container">
        <input type="email" formControlName="email" placeholder="Email" required />
        @if(registerForm.get('email')?.invalid && registerForm.get('email')?.touched) {
          <div class="form-error">Email non valida.</div>
        }
      </div>

      <div class="input-container">
        <input type="password" formControlName="password" placeholder="Password" required />
        @if(registerForm.get('password')?.invalid && registerForm.get('password')?.touched) {
          <div class="form-error">La password deve avere almeno 8 caratteri.</div>
        } 
      </div>

      <div class="input-container">
        <input
          type="password"
          formControlName="confirmPassword"
          placeholder="Conferma Password"
          required
        />
        @if(registerForm.get('confirmPassword')?.hasError('mismatch') && registerForm.get('confirmPassword')?.touched) {
          <div class="form-error">Le password non corrispondono.</div>
        }
      </div>
    </div>

    <button type="submit" [disabled]="registerForm.invalid">REGISTRATI</button>
    @if(message) {
      <div class="form-message">{{ message }}</div>
    }
  </form>

  <div class="login-redirect">
    <p>Hai già un account? <a routerLink="/login">Login</a></p>
  </div>
</div>
